# 專案 5：計算機

在此專案中，將整合專案 2 和專案 3 中所建的 ALU、暫存器和 RAM 裝置，組成一個 CPU 和一個能夠執行專案 4 中介紹的機器語言程式的計算機系統。

## 目標

構建以下三個晶片：

*   **Memory**（記憶體）
*   **CPU**（中央處理器）
*   **Computer**（計算機）

## 測試程式

測試頂層 `Computer` 晶片實作的一種自然方法是讓它正確執行以 Hack 機器語言編寫的範例程式。為了執行這樣的測試，可以撰寫一個測試腳本，將機器語言程式載入到 Computer 的 `ROM32K` 晶片部件（指令記憶體）中，然後執行足夠的時脈週期來執行程式。我們提供了三個這樣的測試程式，以及相應的測試腳本和比較檔案：

1.  **Add：** 將常數 2 和 3 相加，並將結果寫入 `RAM[0]`。
2.  **Max：** 計算 `RAM[0]` 和 `RAM[1]` 中的最大值，並將結果寫入 `RAM[2]`。
3.  **Rect：** 在螢幕上繪製一個高度為 `RAM[0]` 列、每列 16 像素的矩形。矩形的左上角位於螢幕的左上角。

## 實作

請按以下順序建構計算機平臺：

1.  **Memory：** 此晶片的三個主要部件是 `RAM16K`、`Screen` 和 `Keyboard`。它們以內建晶片形式提供，無需實作。主要的實作任務是將這三個記憶體部件組合成一個單一的 32K 位址空間。
2.  **CPU：** 中央處理器可以使用專案 2 中構建的 `ALU`、專案 3 中構建的 `Register` 和 `PC` 晶片，以及專案 1 中構建的邏輯閘來建構。
3.  **Instruction Memory：** 使用內建的 `ROM32K` 晶片。這個晶片本質上與專案 3 中構建的 RAM 晶片相同，但內建版本有一個介面，可以將程式從文字檔案載入到記憶體中。
4.  **Computer：** 可以由三個部件建構：`CPU`、`Memory` 和 `ROM32K`。

## 建構晶片

*   **使用桌面版 Nand2Tetris 硬體模擬器**：從 www.nand2tetris.org 下載了 Nand to Tetris 軟體套件，並將其解壓縮到電腦上名為 `nand2tetris` 的資料夾中，那麼 `nand2tetris/tools` 資料夾包含桌面版硬體模擬器，使用桌面模擬器測試程式碼。

## 參考資源

*   硬體描述語言
*   測試描述語言（供需要時使用，用於理解提供的測試腳本）
*   Hack 晶片組 API
*   [deepseek對話網址](https://chat.deepseek.com/share/npa8odyuezjt6icnid)

